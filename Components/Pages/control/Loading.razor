@inject Services.LoadingService LoadingService

@if (LoadingService.IsLoading)
{
    <div class="loading-overlay" role="status" aria-live="polite">
        <div class="loading-card">
            <div class="spinner-border text-primary" role="status" style="width:2rem; height:2rem;" aria-hidden="true"></div>
            <div class="loading-message">Loadingâ€¦</div>
        </div>
    </div>
}

@code {
    protected override void OnInitialized()
    {
        LoadingService.OnChanged += OnChanged;
    }

    private void OnChanged() => InvokeAsync(StateHasChanged);

    public void Dispose()
    {
        LoadingService.OnChanged -= OnChanged;
    }
}
